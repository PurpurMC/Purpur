From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: DoctaEnkoda <bierquejason@gmail.com>
Date: Fri, 4 Jun 2021 07:36:30 +0200
Subject: [PATCH] Wolves can attack more entity


diff --git a/src/main/java/net/minecraft/world/entity/animal/EntityWolf.java b/src/main/java/net/minecraft/world/entity/animal/EntityWolf.java
index 884a3f03c73efb8fb0863976615fba5ec10f716c..93b32903566f4bfb995f3784a51b1a7ea5e08127 100644
--- a/src/main/java/net/minecraft/world/entity/animal/EntityWolf.java
+++ b/src/main/java/net/minecraft/world/entity/animal/EntityWolf.java
@@ -56,9 +56,7 @@ import net.minecraft.world.entity.ai.goal.target.PathfinderGoalRandomTargetNonTa
 import net.minecraft.world.entity.ai.goal.target.PathfinderGoalUniversalAngerReset;
 import net.minecraft.world.entity.animal.horse.EntityHorseAbstract;
 import net.minecraft.world.entity.animal.horse.EntityLlama;
-import net.minecraft.world.entity.monster.EntityCreeper;
-import net.minecraft.world.entity.monster.EntityGhast;
-import net.minecraft.world.entity.monster.EntitySkeletonAbstract;
+import net.minecraft.world.entity.monster.*;
 import net.minecraft.world.entity.player.EntityHuman;
 import net.minecraft.world.entity.projectile.EntityArrow;
 import net.minecraft.world.item.EnumColor;
@@ -217,7 +215,23 @@ public class EntityWolf extends EntityTameableAnimal implements IEntityAngerable
         this.targetSelector.a(4, new PathfinderGoalNearestAttackableTarget<>(this, EntityHuman.class, 10, true, false, this::a_));
         //this.targetSelector.a(5, new PathfinderGoalRandomTargetNonTamed<>(this, EntityAnimal.class, false, EntityWolf.bq)); // Purpur - moved to updatePathfinders()
         this.targetSelector.a(6, new PathfinderGoalRandomTargetNonTamed<>(this, EntityTurtle.class, false, EntityTurtle.bo));
-        this.targetSelector.a(7, new PathfinderGoalNearestAttackableTarget<>(this, EntitySkeletonAbstract.class, false));
+        // Purpur Start
+        if (this.world.purpurConfig.wolfCanAttackSkeleton) {
+            this.targetSelector.addGoal(7, new PathfinderGoalNearestAttackableTarget<>(this, EntitySkeletonAbstract.class, false));
+        }
+        if (this.world.purpurConfig.wolfCanAttackVindicator) {
+            this.targetSelector.addGoal(7, new PathfinderGoalNearestAttackableTarget<>(this, EntityVindicator.class, false));
+        }
+        if (this.world.purpurConfig.wolfCanAttackZombie) {
+            this.targetSelector.addGoal(7, new PathfinderGoalNearestAttackableTarget<>(this, EntityZombie.class, false));
+        }
+        if (this.world.purpurConfig.wolfCanAttackCreeper) {
+            this.targetSelector.addGoal(7, new PathfinderGoalNearestAttackableTarget<>(this, EntityCreeper.class, false));
+        }
+        if (this.world.purpurConfig.wolfCanAttackPlayer) {
+            this.targetSelector.addGoal(7, new PathfinderGoalNearestAttackableTarget<>(this, EntityHuman.class, false));
+        }
+        // Purpur End
         this.targetSelector.a(8, new PathfinderGoalUniversalAngerReset<>(this, true));
     }
 
diff --git a/src/main/java/net/pl3x/purpur/PurpurWorldConfig.java b/src/main/java/net/pl3x/purpur/PurpurWorldConfig.java
index e72bc4d81e528885dfb129b4718123afa5c16421..a934bc18ffeb05a7f0de4ae2a6d62e833beab660 100644
--- a/src/main/java/net/pl3x/purpur/PurpurWorldConfig.java
+++ b/src/main/java/net/pl3x/purpur/PurpurWorldConfig.java
@@ -2009,6 +2009,11 @@ public class PurpurWorldConfig {
     public double wolfNaturalRabid = 0.0D;
     public int wolfBreedingTicks = 6000;
     public double wolfMaxHealth = 8.0D;
+    public boolean wolfCanAttackCreeper = false;
+    public boolean wolfCanAttackPlayer = false;
+    public boolean wolfCanAttackSkeleton = true;
+    public boolean wolfCanAttackVindicator = false;
+    public boolean wolfCanAttackZombie = false;
     private void wolfSettings() {
         wolfRidable = getBoolean("mobs.wolf.ridable", wolfRidable);
         wolfRidableInWater = getBoolean("mobs.wolf.ridable-in-water", wolfRidableInWater);
@@ -2026,6 +2031,11 @@ public class PurpurWorldConfig {
             set("mobs.wolf.attributes.max_health", oldValue);
         }
         wolfMaxHealth = getDouble("mobs.wolf.attributes.max_health", wolfMaxHealth);
+        wolfCanAttackCreeper = getBoolean("mobs.wolf.target-entity.creeper", wolfCanAttackCreeper);
+        wolfCanAttackPlayer = getBoolean("mobs.wolf.target-entity.player", wolfCanAttackPlayer);
+        wolfCanAttackSkeleton = getBoolean("mobs.wolf.target-entity.skeleton", wolfCanAttackSkeleton);
+        wolfCanAttackVindicator = getBoolean("mobs.wolf.target-entity.vindicator", wolfCanAttackVindicator);
+        wolfCanAttackZombie = getBoolean("mobs.wolf.target-entity.zombie", wolfCanAttackZombie);
     }
 
     public boolean zoglinRidable = false;
