From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: William Blake Galbreath <blake.galbreath@gmail.com>
Date: Sat, 7 Sep 2019 22:47:59 -0500
Subject: [PATCH] Add option for boats to eject players on land


diff --git a/src/main/java/net/minecraft/world/entity/vehicle/Boat.java b/src/main/java/net/minecraft/world/entity/vehicle/Boat.java
index eb753323f67badb1bed28405c07b03078e322b44..4032885fca6a3c52c0c3d1f60b6c6cfb1c3a34ec 100644
--- a/src/main/java/net/minecraft/world/entity/vehicle/Boat.java
+++ b/src/main/java/net/minecraft/world/entity/vehicle/Boat.java
@@ -523,6 +523,7 @@ public class Boat extends Entity {
 
             if (f > 0.0F) {
                 this.landFriction = f;
+                if (level.purpurConfig().gameplayMechanics.boat.ejectOnLand) ejectPassengers(); // Purpur
                 return Boat.Status.ON_LAND;
             } else {
                 return Boat.Status.IN_AIR;
diff --git a/src/main/java/org/purpurmc/purpur/configuration/PurpurWorldConfiguration.java b/src/main/java/org/purpurmc/purpur/configuration/PurpurWorldConfiguration.java
index c98ea1724186258ace181b70ad3b3815a6a33533..23bd7a1a36e218d64a80329ab5a7ded29e9bbd26 100644
--- a/src/main/java/org/purpurmc/purpur/configuration/PurpurWorldConfiguration.java
+++ b/src/main/java/org/purpurmc/purpur/configuration/PurpurWorldConfiguration.java
@@ -1329,6 +1329,11 @@ public class PurpurWorldConfiguration extends ConfigurationPart {
         public class Void extends ConfigurationPart {
             public double loyaltyTridentReturnHeight = 0.0D;
         }
+
+        public Boat boat;
+        public class Boat extends ConfigurationPart {
+            public boolean ejectOnLand = false;
+        }
     }
 
     public Blocks blocks;
