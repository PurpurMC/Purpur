From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: 12emin34 <macanovic.emin@gmail.com>
Date: Sat, 7 Aug 2021 16:13:48 +0200
Subject: [PATCH] Customizable cauldron powder snow fill chance


diff --git a/src/main/java/net/minecraft/world/level/block/CauldronBlock.java b/src/main/java/net/minecraft/world/level/block/CauldronBlock.java
index dbae4f3b56d0290c6d28b9beaaa3b459754d43e3..45a31a4a5c36a90b9b70a239ebadb0fe7fca618d 100644
--- a/src/main/java/net/minecraft/world/level/block/CauldronBlock.java
+++ b/src/main/java/net/minecraft/world/level/block/CauldronBlock.java
@@ -29,7 +29,7 @@ public class CauldronBlock extends AbstractCauldronBlock {
     }
 
     protected static boolean shouldHandlePrecipitation(Level world, Biome.Precipitation precipitation) {
-        return precipitation == Biome.Precipitation.RAIN ? world.getRandom().nextFloat() < 0.05F : (precipitation == Biome.Precipitation.SNOW ? world.getRandom().nextFloat() < 0.1F : false);
+        return precipitation == Biome.Precipitation.RAIN ? world.getRandom().nextFloat() < 0.05F : (precipitation == Biome.Precipitation.SNOW && world.getRandom().nextFloat() < (float) net.pl3x.purpur.PurpurConfig.cauldronPowderSnowFillChance); // Purpur
     }
 
     @Override
diff --git a/src/main/java/net/pl3x/purpur/PurpurConfig.java b/src/main/java/net/pl3x/purpur/PurpurConfig.java
index 526a1032a2f61792c7f5791dbb3e9a7292fc186d..508864b9f7485a52f1e051195e1b5a760e8bd986 100644
--- a/src/main/java/net/pl3x/purpur/PurpurConfig.java
+++ b/src/main/java/net/pl3x/purpur/PurpurConfig.java
@@ -424,6 +424,7 @@ public class PurpurConfig {
     public static boolean anvilCumulativeCost = true;
     public static int lightningRodRange = 128;
     public static boolean fixBedRespawns = false;
+    public static double cauldronPowderSnowFillChance = 0.1;
     private static void blockSettings() {
         if (version < 3) {
             boolean oldValue = getBoolean("settings.barrel.packed-barrels", true);
@@ -443,6 +444,7 @@ public class PurpurConfig {
         anvilCumulativeCost = getBoolean("settings.blocks.anvil.cumulative-cost", anvilCumulativeCost);
         lightningRodRange = getInt("settings.blocks.lightning_rod.range", lightningRodRange);
         fixBedRespawns = getBoolean("settings.blocks.bed.fix-spigot-5988", fixBedRespawns);
+        cauldronPowderSnowFillChance = getDouble("settings.blocks.cauldron.powder-snow-fill-chance", cauldronPowderSnowFillChance);
     }
 
     public static boolean allowInfinityMending = false;
