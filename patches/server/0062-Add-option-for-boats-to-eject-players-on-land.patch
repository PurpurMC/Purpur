From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: William Blake Galbreath <blake.galbreath@gmail.com>
Date: Sat, 7 Sep 2019 22:47:59 -0500
Subject: [PATCH] Add option for boats to eject players on land


diff --git a/src/main/java/net/minecraft/world/entity/vehicle/Boat.java b/src/main/java/net/minecraft/world/entity/vehicle/Boat.java
index eb753323f67badb1bed28405c07b03078e322b44..4032885fca6a3c52c0c3d1f60b6c6cfb1c3a34ec 100644
--- a/src/main/java/net/minecraft/world/entity/vehicle/Boat.java
+++ b/src/main/java/net/minecraft/world/entity/vehicle/Boat.java
@@ -523,6 +523,7 @@ public class Boat extends Entity {
 
             if (f > 0.0F) {
                 this.landFriction = f;
+                if (level.purpurConfig().gameplayMechanics.boat.ejectOnLand) ejectPassengers(); // Purpur
                 return Boat.Status.ON_LAND;
             } else {
                 return Boat.Status.IN_AIR;
diff --git a/src/main/java/org/purpurmc/purpur/configuration/PurpurWorldConfiguration.java b/src/main/java/org/purpurmc/purpur/configuration/PurpurWorldConfiguration.java
index 7f273a86a870125570ecbcd8402b9192ce3fa5d3..2f03ee738f14ef81822b75e48709504524397855 100644
--- a/src/main/java/org/purpurmc/purpur/configuration/PurpurWorldConfiguration.java
+++ b/src/main/java/org/purpurmc/purpur/configuration/PurpurWorldConfiguration.java
@@ -1326,6 +1326,11 @@ public class PurpurWorldConfiguration extends ConfigurationPart {
             public double baseSpeed = 0.1D;
             public Map<Block, Double> blockSpeeds = new HashMap<>();
         }
+
+        public Boat boat;
+        public class Boat extends ConfigurationPart {
+            public boolean ejectOnLand = false;
+        }
     }
 
     public Blocks blocks;
